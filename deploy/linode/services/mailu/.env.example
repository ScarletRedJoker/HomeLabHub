# Mailu Email Server Configuration
# Copy this file to .env and fill in the values

# Domain Configuration
DOMAIN=evindrake.net
HOSTNAMES=mail.evindrake.net
POSTMASTER=admin

# Secret key for session encryption (generate with: openssl rand -base64 32)
SECRET_KEY=your-secret-key-here

# Database
DB_FLAVOR=sqlite

# Web Interface
WEB_ADMIN=/admin
WEB_WEBMAIL=/webmail
WEBMAIL=snappymail

# TLS Configuration
TLS_FLAVOR=letsencrypt

# Message size limit (50MB)
MESSAGE_SIZE_LIMIT=50000000

# Authentication rate limits
AUTH_RATELIMIT_IP=60/hour
AUTH_RATELIMIT_USER=100/day

# Default password scheme
PASSWORD_SCHEME=PBKDF2

# Anti-spam
ANTISPAM_BACKEND=rspamd
ANTISPAM_RULES=yes

# Recipient delimiter (for + addressing like user+tag@domain)
RECIPIENT_DELIMITER=+

# DMARC reporting
DMARC_RUA=admin
DMARC_RUF=admin

# Admin interface
ADMIN=true
API=true

# Fetchmail (to pull from external accounts)
FETCHMAIL_ENABLED=true
FETCHMAIL_DELAY=600

# Subnet for the Docker network
SUBNET=192.168.203.0/24

# Initial admin credentials (change immediately after setup!)
INITIAL_ADMIN_ACCOUNT=admin
INITIAL_ADMIN_DOMAIN=evindrake.net
INITIAL_ADMIN_PW=ChangeMeImmediately123!

# Logging
LOG_DRIVER=json-file

# Ports (internal)
BIND_ADDRESS4=0.0.0.0

# Real IP header (for reverse proxy)
REAL_IP_HEADER=X-Forwarded-For
REAL_IP_FROM=172.16.0.0/12,192.168.0.0/16
